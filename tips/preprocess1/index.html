<!doctype html> <!-- Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes Free for personal and commercial use under the MIT license https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE --> <html lang=ja > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/minimal-mistakes.css"> <link rel=stylesheet  href="/css/adjust.css"> <link rel=stylesheet  href="/css/luminous-basic.min.css"> <link rel=icon  href="/assets/favicon.ico"> <!--[if IE ]> <style> /* old IE unsupported flexbox fixes */ .greedy-nav .site-title { padding-right: 3em; } .greedy-nav button { position: absolute; top: 0; right: 0; height: 100%; } </style> <![endif]--> <title>Awesome ãªå‰å‡¦ç†</title> <body class=layout--single > <div class=masthead > <div class=masthead__inner-wrap > <div class=masthead__menu > <nav id=site-nav  class=greedy-nav > <a class=site-title  href="/">Hanafsky.com</a> <ul class=visible-links > <li class=masthead__menu-item ><a href="/tips/" >Julia-tips</a> <li class=masthead__menu-item ><a href="/blog/" >Blog</a> <li class=masthead__menu-item ><a href="/project/" >Projects</a> <li class=masthead__menu-item ><a href="/about/">About</a> </ul> <button class="greedy-nav__toggle hidden" type=button > <span class=visually-hidden >Toggle menu</span> <div class=navicon ></div> </button> <ul class="hidden-links hidden"></ul> </nav> </div> </div> </div> <div class=initial-content > <div id=main  role=main > <div class="sidebar sticky"> <div itemscope itemtype="https://schema.org/Person"> <div class=author__avatar > <img src="/assets/design/author3.png" alt=Dio  itemprop=image > </div> <div class=author__content > <h3 class=author__name  itemprop=name >Kei Hanafusa</h3> <p class=author__bio  itemprop=description >Chemical Engineer, <br> living in Osaka, ğŸ—¾</p> </div> <div class=author__urls-wrapper > <button class="btn btn--inverse">Follow</button> <ul class="author__urls social-icons"> <li itemprop=homeLocation  itemscope itemtype="https://schema.org/Place"> <i class="fas fa-fw fa-map-marker-alt" aria-hidden=true ></i> <span itemprop=name >Osaka, Japan</span> <li><a href="https://twitter.com/hanafusakei" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden=true ></i> Twitter</a> <li><a href="https://github.com/lethal8723" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden=true ></i> GitHub</a> </ul> </div> <div class=author__urls-wrapper > <button class="btn btn--inverse">Tag</button> <ul class="author__urls social-icons"> <li>ã‚¿ã‚° <li> <li><a href="/tag/setting/">è¨­å®š</a> <li><a href="/tag/thirdparty/">ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</a> <li><a href="/tag/recipe">ãƒ¬ã‚·ãƒ”</a> </ul> </div> </div> </div> <div class=franklin-content ><h1 id="awesome_ãªå‰å‡¦ç†_1"><a href="#awesome_ãªå‰å‡¦ç†_1" class=header-anchor >Awesome ãªå‰å‡¦ç† 1</a></h1> <p>æ©Ÿæ¢°å­¦ç¿’ã‚’åˆ©ç”¨ã—ãŸä»•äº‹ã§ãƒ‡ãƒ¼ã‚¿ã®å‰å‡¦ç†ã‚’ã™ã‚‹å¿…è¦ã«è¿«ã‚‰ã‚Œã¾ã—ãŸã€‚ ä¸€å†Šãã‚‰ã„ã¯å‰å‡¦ç†ã®æœ¬ã‚’èª­ã‚“ã ã»ã†ãŒã„ã„ã ã‚ã†ã¨æ€ã„ã€ãƒ›ã‚¯ã‚½ã‚¨ãƒ ã®æ–¹ãŒ è‘—è€…ã®<a href="https://gihyo.jp/book/2018/978-4-7741-9647-3">å‰å‡¦ç†å¤§å…¨</a>ã¨ã„ã†æœ¬ã‚’èª­ã‚“ã§ã¿ã¾ã—ãŸã€‚</p> <p>ã“ã®æœ¬ã¯ã€ãƒ‡ãƒ¼ã‚¿è§£æã®å ´é¢ã«ãŠã„ã¦ã€è¤‡æ•°ã®è¨€èªã‚’ä½¿ã„åˆ†ã‘ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã€ SQLã€Rã€pythonã®3ã¤ã®è¨€èªã§Awesomeãªã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚ å…·ä½“çš„ã«ã¯ã€ãƒ¡ãƒ¢ãƒªã«åã¾ã‚‰ãªã„å¤§è¦æ¨¡ãªãƒ‡ãƒ¼ã‚¿ãªã‚‰SQLã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã«ã¯Rã€ ã‚·ã‚¹ãƒ†ãƒ ã¸ã®çµ„ã¿è¾¼ã¿ã«ã¯pythonã¨ã„ã†å…·åˆã§ã™ã€‚</p> <p>ä½™è«‡ã‚„ã‚ã¨ãŒãã‚‚è‘—è€…ã®äººæŸ„ãŒå²ã°ã‚Œã¦ã€ã¨ã¦ã‚‚ãŠã‚‚ã—ã‚ã‹ã£ãŸã§ã™ã€‚</p> <p>ç§ã¯ã€æ™®æ®µã‹ã‚‰ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚‚ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚‚juliaã§ä½œã£ã¦ã„ã‚‹ã®ã§ã€ è‡ªåˆ†ç”¨ã«juliaç‰ˆï¼ˆDataFrames.jlã‚’åˆ©ç”¨<sup id="fnref:1"><a href="#fndef:1" class=fnref >[1]</a></sup>ï¼‰ã§ã®ã‚¨ãƒƒã‚»ãƒ³ã‚¹ã‚’ã¾ã¨ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p> <table class=fndef  id="fndef:1"> <tr> <td class=fndef-backref ><a href="#fnref:1">[1]</a> <td class=fndef-content >å¤§è¦æ¨¡ãªãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã¯ã€JuliaDBã‚’ä½¿ã†é¸æŠè‚¢ã‚‚ã‚ã‚Šã¾ã™ãŒã€ä»Šã®ã¨ã“ã‚ãã®æ©Ÿä¼šã¯ãªã•ãã†ãªã®ã§ã€DataFrames.jlã ã‘ã§ã‚„ã£ã¦ã¿ã¾ã™ã€‚ </table> <p>ã»ã‹ã®å‚è€ƒè³‡æ–™ã¨ã—ã¦ã¯ã€<a href="https://www.packtpub.com/product/julia-1-0-programming-cookbook/9781788998369">Julia 1.0 Programming CookBook</a>ã®è‘—è€…ã®BogumiÅ‚ KamiÅ„skiå…ˆç”Ÿã®ãƒ–ãƒ­ã‚°ã¨ <a href="https://www.packtpub.com/product/hands-on-design-patterns-and-best-practices-with-julia/9781838648817">Hands-On Design Patterns and Best Practices with Julia</a>ã®è‘—è€…ã®Tom Kwong ã•ã‚“ã®ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ³ã‚°ãƒªãƒ³ã‚°ã®videoã¨ãƒ–ãƒ­ã‚°ã‚’æŒ™ã’ã¦ãŠãã¾ã™ã€‚</p> <ul> <li><p><a href="https://bkamins.github.io/">Blog by BogumiÅ‚ KamiÅ„ski</a></p> <li><p><a href="https://ahsmart.com/">Tom Kwong&#39;s Infinite Loop</a></p> </ul> <p>Tom Kwong ã•ã‚“ã®ãƒ–ãƒ­ã‚°ã«ã¯ã€DataFrames.jlã®ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆãŒãŠã„ã¦ã‚ã‚‹ã®ã§ã€æ‰‹å…ƒã«ãŠã„ã¦æ´»ç”¨ã•ã›ã¦ã‚‚ã‚‰ã£ã¦ã„ã¾ã™ã€‚</p> <iframe width=560  height=315  src="https://www.youtube.com/embed/txme9o0EdLk" frameborder=0  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> <p>ãƒ‡ãƒ¼ã‚¿ã¯ <a href="https://github.com/ghmagazine/awesomebook">å‰å‡¦ç†å¤§å…¨ã®ã‚µãƒãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã®ãƒ‡ãƒ¼ã‚¿</a>ã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚</p> <h2><div class=mytoc >ç›®æ¬¡ <div class=franklin-toc ><ol><li><a href="#ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€</a><li><a href="#2_æŠ½å‡º">2 æŠ½å‡º</a><ol><li><a href="#2-1_ãƒ‡ãƒ¼ã‚¿åˆ—ã®æŠ½å‡º">2-1 ãƒ‡ãƒ¼ã‚¿åˆ—ã®æŠ½å‡º</a><ol><li><a href="#string_ã§æŒ‡å®š">String ã§æŒ‡å®š</a><li><a href="#symbol_ã§æŒ‡å®š">Symbol ã§æŒ‡å®š</a><li><a href="#select_é–¢æ•°">select é–¢æ•°</a><li><a href="#not_ã‚„æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹æŠ½å‡º">Not ã‚„æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹æŠ½å‡º</a></ol><li><a href="#2-2_æ¡ä»¶æŒ‡å®šã«ã‚ˆã‚‹æŠ½å‡º">2-2 æ¡ä»¶æŒ‡å®šã«ã‚ˆã‚‹æŠ½å‡º</a><li><a href="#2-3_ãƒ‡ãƒ¼ã‚¿å€¤ã«åŸºã¥ã‹ãªã„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°">2-3 ãƒ‡ãƒ¼ã‚¿å€¤ã«åŸºã¥ã‹ãªã„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°</a><li><a href="#2-4_é›†ç´„idã«åŸºã¥ãã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°">2-4 é›†ç´„IDã«åŸºã¥ãã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°</a></ol></ol></div></div></h2> <h2 id="ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€"><a href="#ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€" class=header-anchor >ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€</a></h2> <p>CSV ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã§ã¯ã€ä»¥ä¸‹ã®æ–¹æ³•ã‚’ã‚ˆãä½¿ã„ã¾ã™ã€‚</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames,CSV
df = CSV.read(<span class=hljs-string >&quot;file.csv&quot;</span>, DataFrame)</code></pre> <div class=warning ><div class=title >ğŸ˜• Warning&#33;</div> <div class=content >æœ€è¿‘ã€<code>CSV.read</code>é–¢æ•°ã¯ã€å‡ºåŠ›ã™ã‚‹ãƒ‡ãƒ¼ã‚¿å‹ï¼ˆã“ã®å ´åˆã¯ DataFrame å‹ï¼‰ã‚’æŒ‡å®šã—ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã‚’åãã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</div></div> <p>CSVãƒ•ã‚¡ã‚¤ãƒ«ä»¥å¤–ã®èª­ã¿è¾¼ã¿ã§ã¯ã€Excelã‹ã‚‰èª­ã¿è¾¼ã‚€ã“ã¨ãŒå¤šã„ã®ã§ã€ ExcelFiles.jlã‚’ã‚ˆãåˆ©ç”¨ã—ã¾ã™ã€‚ã“ã¡ã‚‰ã¯ã‚·ãƒ¼ãƒˆåã‚’ç›´æ¥æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames, ExcelFiles
df =</code></pre> <p>datãƒ•ã‚¡ã‚¤ãƒ«ãªã‚‰ã€æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®DelimitedFiles.jlã‚’åˆ©ç”¨ã™ã‚‹ã¨èª­ã¿è¾¼ã¿ãŒé«˜é€Ÿã§ã™ã€‚</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames,DelimitedFiles

df = DataFrame(readdlm(<span class=hljs-string >&quot;file.dat&quot;</span>))</code></pre> <p>ãã®ã»ã‹ã«ã€Rã¨pythonã§å…±é€šãªFeatherå½¢å¼ã‚’åˆ©ç”¨ã—ã¦ã„ãŸã“ã¨ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ ã»ã‹ã®è¨€èªã§å‡¦ç†ã™ã‚‹ã“ã¨ã‚‚ãªã‹ã£ãŸã—ã€ç‰¹æ®µãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ããªã‚‹ã‚ã‘ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p> <p>æ—©é€Ÿã‚µãƒ³ãƒ—ãƒ«ã®ãƒ›ãƒ†ãƒ«ã®äºˆç´„ãƒ‡ãƒ¼ã‚¿ï¼ˆreserve.csvï¼‰ã‚’èª­ã¿è¾¼ã‚“ã§ã„ãã¾ã™ã€‚ é•·ã£ãŸã‚‰ã—ã„ã®ã§ã€æœ€åˆã®è¡Œã ã‘ã‚’firsté–¢æ•°ã§è¦‹ã¦ã¿ã¾ã™ã€‚</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames,CSV
path = joinpath(<span class=hljs-string >&quot;tips&quot;</span>,<span class=hljs-string >&quot;data&quot;</span>,<span class=hljs-string >&quot;reserve.csv&quot;</span>)
reserve_df = CSV.read(path,DataFrame)
println(first(reserve_df))</code></pre> <div class=code-output ><pre><code class="plaintext hljs">DataFrameRow
 Row â”‚ reserve_id  hotel_id  customer_id  reserve_datetime     checkin_date  checkin_time  checkout_date  people_num  total_price
     â”‚ String      String    String       String               Dates.Date    Dates.Time    Dates.Date     Int64       Int64
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚ r1          h_75      c_1          2016-03-06 13:09:42  2016-03-26    10:00:00      2016-03-29              4        97200
</code></pre></div> <h2 id="2_æŠ½å‡º"><a href="#2_æŠ½å‡º" class=header-anchor >2 æŠ½å‡º</a></h2> <h3 id="2-1_ãƒ‡ãƒ¼ã‚¿åˆ—ã®æŠ½å‡º"><a href="#2-1_ãƒ‡ãƒ¼ã‚¿åˆ—ã®æŠ½å‡º" class=header-anchor >2-1 ãƒ‡ãƒ¼ã‚¿åˆ—ã®æŠ½å‡º</a></h3> <p>å‰å‡¦ç†å¤§å…¨ã§ã¯ã€å¯èª­æ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ã«ã€ãƒ‡ãƒ¼ã‚¿ã®åˆ—ç•ªå·ã§ã¯ãªãã€ãƒ©ãƒ™ãƒ«ã«ã‚ˆã£ã¦åˆ—ã‚’æŠ½å‡ºã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ ã¾ãšã€ãƒ©ãƒ™ãƒ«åã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚</p> <pre><code class="julia hljs"><span class=hljs-meta >@show</span> names(reserve_df);</code></pre>
<div class=code-output ><pre><code class="plaintext hljs">names(reserve_df) = [&quot;reserve_id&quot;, &quot;hotel_id&quot;, &quot;customer_id&quot;, &quot;reserve_datetime&quot;, &quot;checkin_date&quot;, &quot;checkin_time&quot;, &quot;checkout_date&quot;, &quot;people_num&quot;, &quot;total_price&quot;]
</code></pre></div>
<p>è©¦ã—ã«<code>reserve_id</code>ã¨<code>hotel_id</code>ã®åˆ—ã‚’æŠ½å‡ºã—ã¦ã¿ã¾ã™ã€‚</p>
<h4 id="string_ã§æŒ‡å®š"><a href="#string_ã§æŒ‡å®š" class=header-anchor >String ã§æŒ‡å®š</a></h4>
<p>ã‚ªãƒ¼ã‚½ãƒ‰ãƒƒã‚¯ã‚¹ãªãƒ©ãƒ™ãƒ«åã‚’Stringå‹ã§æŒ‡å®šã™ã‚‹å ´åˆã§ã™ã€‚</p>
<pre><code class="julia hljs">reserve_df[!,[<span class=hljs-string >&quot;reserve_id&quot;</span>,<span class=hljs-string >&quot;hotel_id&quot;</span>]] |&gt; first |&gt; println</code></pre>
<div class=code-output ><pre><code class="plaintext hljs">DataFrameRow
 Row â”‚ reserve_id  hotel_id
     â”‚ String      String
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚ r1          h_75
</code></pre></div>
<h4 id="symbol_ã§æŒ‡å®š"><a href="#symbol_ã§æŒ‡å®š" class=header-anchor >Symbol ã§æŒ‡å®š</a></h4>
<p>åŒã˜ã“ã¨ã‚’ Symbolå‹ã§æŒ‡å®šã—ã¦ã‚„ã£ã¦ã¿ã¾ã™ã€‚</p>
<pre><code class="julia hljs">reserve_df[!,[:reserve_id,<span class=hljs-built_in >Symbol</span>(<span class=hljs-string >&quot;hotel_id&quot;</span>)]] |&gt; first |&gt; println
println()
<span class=hljs-meta >@show</span> typeof(:reserve_id)</code></pre>
<p><div class=code-output ><pre><code class="plaintext hljs">DataFrameRow
 Row â”‚ reserve_id  hotel_id
     â”‚ String      String
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚ r1          h_75

typeof(:reserve_id) = Symbol
</code></pre></div> ã“ã“ã§ã€<code>:reserve_id</code>ã¨<code>Symbol&#40;&quot;reserve_id&quot;&#41;</code>ã¯åŒã˜çµæœã‚’ç¤ºã—ã¾ã™ã€‚ ã¨ã‚‚ã«å‹ã¯ Symbol å‹ã§ã™ã€‚</p>
<p><code>:reserve_id</code>ã®æ–¹ãŒã€ã‚¿ã‚¤ãƒ—æ•°ãŒå°‘ãªã„ã®ã§çœã‚¨ãƒã§ã™ã€‚</p>
<p>ã¾ãŸã€ä¸€åˆ—ã ã‘æŠ½å‡ºã—ãŸã„ã¨ãã¯ã€<code>df.reserve_id</code>ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ ãŸã ã—ã€è¿”ã‚Šå€¤ã®å‹ã¯ DataFrame å‹ã§ã¯ãªãã€Vecter å‹ã«ãªã‚Šã¾ã™ã€‚</p>
<pre><code class="julia hljs"><span class=hljs-meta >@show</span> first(reserve_df.reserve_id,<span class=hljs-number >5</span>)
println()
<span class=hljs-meta >@show</span> typeof(reserve_df.reserve_id)</code></pre>
<div class=code-output ><pre><code class="plaintext hljs">MethodError: no method matching first(::Array{String,1}, ::Int64)
Closest candidates are:
  first(::AbstractArray) at abstractarray.jl:323
  first(!Matched::AbstractString, ::Integer) at strings/basic.jl:633
  first(!Matched::DataFrames.AbstractDataFrame, ::Integer) at /home/runner/.julia/packages/DataFrames/oQ5c7/src/abstractdataframe/abstractdataframe.jl:463
  ...
</code></pre></div>
<div class=warning ><div class=title >ğŸ˜• Warning&#33;</div>
<div class=content ><p>ã„ã¤ã§ã‚‚<code>:reserve_id</code>ã®ã‚ˆã†ã«ã§ãã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚ˆãã‚ã‚‹ãƒˆãƒ©ãƒƒãƒ—ãŒã€ ãƒ©ãƒ™ãƒ«åã«<code>&#37;</code>ã‚„<code>/</code>ãªã©ã®2é …æ¼”ç®—å­ãŒæ–‡å­—åˆ—ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹æ™‚ã§ã™ã€‚</p>
<pre><code class="julia hljs">testdf = DataFrame(<span class=hljs-string >&quot;a%&quot;</span>=&gt;<span class=hljs-string >&quot;a&quot;</span>, <span class=hljs-string >&quot;b(m/s)&quot;</span>=&gt;<span class=hljs-number >1</span>:<span class=hljs-number >1e5</span>)
println(first(testdf))</code></pre>
<div class=code-output ><pre><code class="plaintext hljs">DataFrameRow
 Row â”‚ a%      b(m/s)
     â”‚ String  Float64
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚ a           1.0
</code></pre></div>
<p>ã“ã®å ´åˆã«ã¯ã€<code>df&#91;&#33;,Symbol&#40;&quot;a&#37;&quot;&#41;&#93;</code>ã®ã‚ˆã†ã«ã—ã¦æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ æ¼”ç®—å­ãŒãƒ©ãƒ™ãƒ«åã«ä½¿ã‚ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ç§ã¯æœ€åˆã«ãƒ©ãƒ™ãƒ«åã‚’å½“ãŸã‚Šéšœã‚Šã®ãªã„ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p></div></div>
<div class=note ><div class=title >ğŸ˜² Note</div>
<div class=content ><p><code>reserve_df&#91;:,&#91;&quot;reserve_id&quot;&#93;&#93;</code>ã§ã‚‚<code>reserve_df&#91;&#33;,&#91;&quot;reserve_id&quot;&#93;&#93;</code> ã§ã‚‚ã€è¿”ã‚Šå€¤ã¯åŒã˜ã§ã™ã€‚ ãŸã ã—ã€å‰è€…ã®å ´åˆã¯æ–°ã—ããƒ¡ãƒ¢ãƒªå‰²ã‚Šå½“ã¦ãŒç™ºç”Ÿã—ã¾ã™ã€‚ãã®çµæœã¨ã—ã¦å®Ÿè¡Œé€Ÿåº¦ã‚‚é…ããªã‚Šã¾ã™ã€‚</p>
<pre><code class="julia hljs"><span class=hljs-meta >@time</span> testdf[:,[<span class=hljs-string >&quot;a%&quot;</span>,<span class=hljs-string >&quot;b(m/s)&quot;</span>]]
println()
<span class=hljs-meta >@time</span> testdf[!,[<span class=hljs-string >&quot;a%&quot;</span>,<span class=hljs-string >&quot;b(m/s)&quot;</span>]]</code></pre>
<div class=code-output ><pre><code class="plaintext hljs">  0.014236 seconds (17.67 k allocations: 2.526 MiB)

  0.000019 seconds (22 allocations: 2.172 KiB)
</code></pre></div></div></div>
<h4 id="select_é–¢æ•°"><a href="#select_é–¢æ•°" class=header-anchor >select é–¢æ•°</a></h4>
<p>åˆ—ã‚’æŠ½å‡ºã™ã‚‹ã«ã¯ã€select é–¢æ•°ã‚‚åˆ©ç”¨ã§ãã¾ã™ã€‚</p>
<pre><code class="julia hljs">select(reserve_df,:reserve_id, :hotel_id) |&gt; first |&gt; println</code></pre>
<div class=code-output ><pre><code class="plaintext hljs">DataFrameRow
 Row â”‚ reserve_id  hotel_id
     â”‚ String      String
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚ r1          h_75
</code></pre></div>
<p>selecté–¢æ•°ã«ã¯ã€æ–°ã—ã„åˆ—ã‚’ä½œã‚‹æ©Ÿèƒ½ã‚‚ã‚ã‚‹ã®ã§ã€ å¾Œã§æ´»èºã—ãã†ã§ã™ã€‚</p>
<h4 id="not_ã‚„æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹æŠ½å‡º"><a href="#not_ã‚„æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹æŠ½å‡º" class=header-anchor >Not ã‚„æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹æŠ½å‡º</a></h4>
<p>ãƒ©ãƒ™ãƒ«ãŒ<code>id</code>ã§çµ‚ã‚ã‚‹åˆ—ã‚’æ­£è¦è¡¨ç¾ã§æŠ½å‡ºã—ã¾ã™ã€‚</p>
<pre><code class="julia hljs">reserve_df[!,<span class=hljs-string >r&quot;id$&quot;</span>] |&gt; first |&gt; println</code></pre>
<p><div class=code-output ><pre><code class="plaintext hljs">DataFrameRow
 Row â”‚ reserve_id  hotel_id  customer_id
     â”‚ String      String    String
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚ r1          h_75      c_1
</code></pre></div> <div class=warning ><div class=title >ğŸ˜• Warning&#33;</div>
<div class=content >å‰å‡¦ç†å¤§å…¨ã§ã¯ã€ãšã£ã¨ä½¿ã†ã‚³ãƒ¼ãƒ‰ã«ã“ã®ã‚ˆã†ãªæŠ½å‡ºæ–¹æ³•ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã¯é¿ã‘ã‚‹ã¹ãã ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</div></div></p>
<p>ãƒ©ãƒ™ãƒ«åãŒ<code>id</code>ã§çµ‚ã‚ã‚‰ãªã„åˆ—ã‚’æŠ½å‡ºã™ã‚‹ã«ã¯ã€Not ã«å…¥ã‚Œã¦ã—ã¾ã†ã¨æ¥½ã§ã™ã€‚ Not ã®ä¸­èº«ã¯ã€ç›´æ¥ãƒ©ãƒ™ãƒ«åã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã®ã§ã€æœ‰ç”¨ã§ã™ã€‚</p>
<pre><code class="julia hljs">reserve_df[!,Not(<span class=hljs-string >r&quot;id$&quot;</span>)] |&gt; first |&gt; println</code></pre>
<div class=code-output ><pre><code class="plaintext hljs">DataFrameRow
 Row â”‚ reserve_datetime     checkin_date  checkin_time  checkout_date  people_num  total_price
     â”‚ String               Dates.Date    Dates.Time    Dates.Date     Int64       Int64
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚ 2016-03-06 13:09:42  2016-03-26    10:00:00      2016-03-29              4        97200
</code></pre></div>
<h3 id="2-2_æ¡ä»¶æŒ‡å®šã«ã‚ˆã‚‹æŠ½å‡º"><a href="#2-2_æ¡ä»¶æŒ‡å®šã«ã‚ˆã‚‹æŠ½å‡º" class=header-anchor >2-2 æ¡ä»¶æŒ‡å®šã«ã‚ˆã‚‹æŠ½å‡º</a></h3>
<p><code>checkin_date</code>ãŒ2016-10-12ã‹ã‚‰2016-10-13ã¾ã§ã®ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã—ã¾ã™ã€‚ ã“ã“ã§ã¯filteré–¢æ•°ã‚’ä½¿ã„ã¾ã™ã€‚ filteré–¢æ•°ã«ã¯ã€è¦‹ã¦ã®é€šã‚Š2é€šã‚Šã®ä½¿ã„æ–¹ãŒã‚ã‚Šã¾ã™ã€‚ åŸºæœ¬çš„ã«ã¯ç„¡åé–¢æ•°ã‚’ä½¿ã£ã¦ã€<code>å¼•æ•°x-&gt; a&lt;x&lt;b</code>ã®ã‚ˆã†ãªæ›¸ãæ–¹ã‚’ã—ã¦ã„ã¾ã™ã€‚</p>
<pre><code class="julia hljs"><span class=hljs-keyword >using</span> Dates: Date
<span class=hljs-comment ># filter(:checkin_date =&gt; row-&gt; Date(2016,10,12) &lt;= row &lt;= Date(2016,10,13), reserve_df) |&gt; println</span>
filter(row-&gt; Date(<span class=hljs-number >2016</span>,<span class=hljs-number >10</span>,<span class=hljs-number >12</span>) &lt;= row.checkin_date &lt;= Date(<span class=hljs-number >2016</span>,<span class=hljs-number >10</span>,<span class=hljs-number >13</span>), reserve_df) |&gt; println</code></pre>
<div class=code-output ><pre><code class="plaintext hljs">8Ã—9 DataFrame
 Row â”‚ reserve_id  hotel_id  customer_id  reserve_datetime     checkin_date  checkin_time  checkout_date  people_num  total_price
     â”‚ String      String    String       String               Dates.Date    Dates.Time    Dates.Date     Int64       Int64
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚ r285        h_121     c_67         2016-09-27 06:13:19  2016-10-12    12:00:00      2016-10-14              4       184000
   2 â”‚ r1933       h_113     c_477        2016-09-24 09:04:26  2016-10-12    11:30:00      2016-10-13              4        77200
   3 â”‚ r2291       h_230     c_574        2016-10-09 04:34:14  2016-10-12    12:00:00      2016-10-13              1        17400
   4 â”‚ r2524       h_203     c_631        2016-09-14 10:45:15  2016-10-12    10:30:00      2016-10-14              3       167400
   5 â”‚ r3147       h_163     c_794        2016-10-02 07:35:16  2016-10-13    09:00:00      2016-10-16              1        64200
   6 â”‚ r3328       h_23      c_833        2016-09-28 08:22:57  2016-10-13    09:00:00      2016-10-14              4       260400
   7 â”‚ r3381       h_110     c_844        2016-09-17 17:44:02  2016-10-13    12:30:00      2016-10-15              1        52800
   8 â”‚ r3444       h_14      c_859        2016-10-03 17:26:00  2016-10-13    12:30:00      2016-10-15              3        46200
</code></pre></div>
<p>ä¸Šã®ä¾‹ã§ã¯1è¡Œã§æ›¸ãã¾ã—ãŸãŒã€ã„ãã¤ã‹ã®å‰å‡¦ç†ã‚’ä¸€æ°—ã«è¡Œã†ãªã‚‰ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¤‡æ•°è¡Œã«åˆ†ã‘ãŸã»ã†ãŒã€å¯èª­æ€§ã¯é«˜ã„ã§ã—ã‚‡ã†ã€‚</p>
<pre><code class="julia hljs"><span class=hljs-keyword >using</span> Chain
<span class=hljs-meta >@chain</span> reserve_df <span class=hljs-keyword >begin</span>
  filter(:checkin_date =&gt; &gt;=(Date(<span class=hljs-number >2016</span>,<span class=hljs-number >10</span>,<span class=hljs-number >12</span>)),_)
  filter(:checkin_date =&gt; &lt;=(Date(<span class=hljs-number >2016</span>,<span class=hljs-number >10</span>,<span class=hljs-number >13</span>)),_)
  <span class=hljs-comment ># println</span>
<span class=hljs-keyword >end</span></code></pre>
<div class=code-output ></div>
<h3 id="2-3_ãƒ‡ãƒ¼ã‚¿å€¤ã«åŸºã¥ã‹ãªã„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°"><a href="#2-3_ãƒ‡ãƒ¼ã‚¿å€¤ã«åŸºã¥ã‹ãªã„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°" class=header-anchor >2-3 ãƒ‡ãƒ¼ã‚¿å€¤ã«åŸºã¥ã‹ãªã„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°</a></h3>
<p>ãƒ‡ãƒ¼ã‚¿æ•°ã‚’å¤§ä½“åŠåˆ†ã«ã—ãŸã„ã¨ãã®å‡¦æ–¹ç®‹ã§ã™ã€‚ pythonã‚„Rã®ã‚ˆã†ã«DataFrameç”¨ã«sampleé–¢æ•°ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã£ã¦ã‚‚ã‚ˆã•ãã†ã§ã™ãŒã€ ãªã„ã¿ãŸã„ãªã®ã§ã€StatsBase.jlã®sampleé–¢æ•°ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚ DataFrameã®è¡Œæ•°ã‹ã‚‰é‡è¤‡ã‚’è¨±ã•ãšã«ã€åŠåˆ†ã®å€¤ã‚’ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚ ãã—ã¦ã€ãã‚Œã‚’è¡Œç•ªå·ã¨ã—ã¦æŒ‡å®šã—ã¾ã™ã€‚</p>
<pre><code class="julia hljs"><span class=hljs-keyword >using</span> StatsBase: sample 
sample_row = sample(<span class=hljs-number >1</span>:nrow(reserve_df), round(<span class=hljs-built_in >Int</span>,nrow(reserve_df)/<span class=hljs-number >2</span>), replace=<span class=hljs-literal >false</span>)
reserve_df[sample_row,:]</code></pre>
<div class=code-output ></div>
<p>SQLã§å‡ºã¦ããŸã€ä¹±æ•°ã‚’ä½¿ã£ã¦ã€ãƒ‡ãƒ¼ã‚¿æ•°ã‚’ç´„åŠåˆ†ã«ã™ã‚‹æ–¹æ³•ã‚‚ä½¿ãˆãã†ã§ã™ã€‚</p>
<pre><code class="julia hljs"><span class=hljs-keyword >using</span> Chain
reserve_df.rand=rand(nrow(reserve_df))
sdf = <span class=hljs-meta >@chain</span> reserve_df <span class=hljs-keyword >begin</span>
  filter(:rand =&gt;&lt;(<span class=hljs-number >0.5</span>),_)
  select!(Not(:rand))
<span class=hljs-keyword >end</span>
println(first(sdf))</code></pre>
<div class=code-output ><pre><code class="plaintext hljs">DataFrameRow
 Row â”‚ reserve_id  hotel_id  customer_id  reserve_datetime     checkin_date  checkin_time  checkout_date  people_num  total_price
     â”‚ String      String    String       String               Dates.Date    Dates.Time    Dates.Date     Int64       Int64
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚ r1          h_75      c_1          2016-03-06 13:09:42  2016-03-26    10:00:00      2016-03-29              4        97200
</code></pre></div>
<h3 id="2-4_é›†ç´„idã«åŸºã¥ãã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°"><a href="#2-4_é›†ç´„idã«åŸºã¥ãã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°" class=header-anchor >2-4 é›†ç´„IDã«åŸºã¥ãã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°</a></h3>
<p>é¡§å®¢IDã‚’é›†ç´„ã—ã¦ã€åŠåˆ†ã«ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã—ã€é¡§å®¢IDã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ã®æŠ½å‡ºã‚’è¡Œã„ã¾ã™ã€‚ chainãƒã‚¯ãƒ­ã‚’ä½¿ã£ãŸãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Ÿè£…ã§ã™ãŒã€å¯èª­æ€§ã¯é«˜ã„ã¨æ€ã„ã¾ã™ã€‚</p>
<pre><code class="julia hljs"><span class=hljs-meta >@chain</span> reserve_df.customer_id <span class=hljs-keyword >begin</span>
  unique
  sample(_, round(<span class=hljs-built_in >Int</span>,length(_)/<span class=hljs-number >2</span>),replace=<span class=hljs-literal >false</span>)
  filter(:customer_id =&gt; <span class=hljs-keyword >in</span>(_),reserve_df) 
<span class=hljs-keyword >end</span></code></pre>
<div class=code-output ></div>

  <div class=prev-next-link >
  <a class=next-link  href=" /tips/preprocess2">
    <p class=prev-next-label >æ¬¡ã®è¨˜äº‹</p>
    <p>
       Awesome ãªå‰å‡¦ç†2
    </p>
  </a>
</div>

 <button onclick="topFunction()" id=myBtn  title="Go to top">Top</button> 
<div class=page-foot >
  <div class=copyright >
    &copy; Kei Hanafusa. Last modified: March 17, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>

      </div> 
    </div>   

    <div class=page__footer >
      <footer>
        
        
        <div class=page__footer-follow >
          <ul class=social-icons >
            <li><strong>Follow:</strong>
            <li><a href="https://twitter.com/hanafusakei" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden=true ></i> Twitter</a>
            <li><a href="https://github.com/lethal8723" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden=true ></i> GitHub</a>
          </ul>
        </div>
        <div class=page__footer-copyright >&copy; Kei Hanafusa. Powered by <a href="https://github.com/tlienart/Franklin.jl">Franklin</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel=nofollow >Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="/libs/minimal-mistakes/main.min.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin=anonymous ></script>
    <script src="/libs/myBtn/myBtn.js"></script>
    <script src="/libs/luminous/Luminous.min.js"></script>

    
    
        


    
    
    <script>
    new Luminous(document.querySelectorAll('.zoom'));
</script>
    <script>
function myToc() {
    var x = document.getElementsByClassName("mytoc");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  } 
</script>