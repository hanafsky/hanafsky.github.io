@def title="HHKBの話"
@def rss=""
@def tag=["blog","gadget"]
@def hascode=true

# HHKB(Happy Hacking Keyboard)の話
> アメリカ西部のカウボーイたちは、馬が死ぬと馬はそこに残していくが、
> どんなに砂漠を歩こうとも、鞍は自分で担いで往く。馬は消耗品であり、
> 鞍は自分の体に馴染んだインタフェースだからだ。
> いまやパソコンは消耗品であり、キーボードは大切な、生涯使えるインタ
> フェースであることを忘れてはいけない。 (和田先生)

2020年1月からキーボードをHHKBに替えました。(知る人ぞ知る高級キーボード)

HHKBに初めて触った確かのは、大学の情報棟での授業の時です。
パソコン端末のキーボードが全部HHKBでした。（ちなみにOSはマック）

当時は「何？この使いにくいキーボード。Fnキー押さないと何もできないじゃん。」としか思っていませんでした。
しかし、パソコンに強い知人たちにその話題を振ると、皆口をそろえて「慣れれば一番使いやすい。
しかも結構高いんだよ。。。」というのです。

学習曲線が急峻に立ち上がる「慣れたら最強」みたいなツールは
なんだか格好つけている感じはしますが、
業務の効率化が必要とされている現代においては、
投資する価値が十分あると思います。

欲しいとは思いつつも、学生の時は高くて手が出ず、社会人になってからも
「有線モデルしかないのが嫌」という理由で結局買わずじまいした。
社会人10年目くらいで、会社のキーボードの不調とHHKB新モデルの登場という転機が訪れました。

~~~
<a class="embedly-card" data-card-description="0" href="https://www.pfu.fujitsu.com/direct/hhkb/detail_pd-kb800bs.html">Happy Hacking Keyboard Professional HYBRID Type-S 英語配列／墨｜PFUダイレクト</a><script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script>
~~~

このキーボードの特徴を簡単にまとめると

- 無線で使える。(Bluetooth)
- 有線でも使える。(USB type-C)
- 持ち運びしやすい。(家でも会社でも使える。)
- ソフトウェアでキーマップ変更ができる。
- 電池交換式

という感じです。
手触りのよいフラッグシップモデルは税抜きで32,000円もするのですが、「買うなら今しかない！」と清水の舞台から飛び降りたつもりで、
ぽちっとしてしまいました。[^1]　実際に使ってみた感想などを書いておきます。

[^1]: 本当は会社で買ってもらおうと思っていましたが、「本当に必要なのか？」と資材部に断られました。専業プログラマなら「腱鞘炎になったら労災だぞ」とか言ってごり押しできたかもしれませんが、研究部門所属の私ではちょっと無理でした。妻からは白い目で見られましたが、お小遣いで買ったのですから、誰にも文句は言わせません。


\mytoc
---

## 英語配列か日本語配列か
私が購入を決めたのは発売日から一か月後でした。その時には、本語配列版は売り切れで、英語配列しか選択肢はありませんでした。
プログラム書くときには英語配列の方が便利ですし、全角と半角の切り替えは、
``Alt+` ``でできるので、英語配列で全く支障はありません。

スペースキーが無駄に大きいことと、たまに日本語配列キーボードを触ったときに
ミスタイプを連発してしまうところは玉に瑕です。家でも会社でも出張先でもHHKBを持ち歩くしかないですね。

次に買うノートＰＣも英語配列で確定です。
## キーマップのカスタマイズ
今回のHHKBはキーマップのカスマイズできるのが最大の特徴だと思います。

キーマップ変更ツールは[こちら](https://happyhackingkb.com/jp/download/)からダウンロードできます。
設定はキーボード本体に保存されるので、一度設定すれば他のＰＣ・スマホでも同様に使えます。

まずは、通常モード(Ｆｎキーを押さないとき)の設定について書いてみます。
### 通常時のカスタマイズ
\luminous{/assets/blog/hhkb1.png}
#### 左のWinキーをFnキーに変更
デフォルトではWinキーがスペースキーの両隣に二か所設置されています。
Winキーはそこまで多用しませんが、HHKBではFnキーを多用するので、
左のWinキーはFnキーに割り当てました。
#### DelキーをBSキーに変更
これはキーボード裏面のスイッチでも対応可能ですが、キーマップ変更ツールで実装しました。
私はvimモードでエディタを使うことが多く、基本的にDelキーの出番はありませんから、
BSキーと交代してもらいます。

#### 右のAltキーは右クリックメニューへ
たまにマウスの右クリックメニューを出したい時がありますが、
キーボードからわざわざマウスに持ち替えたくはありません。
そこで、右側のAltキーを普段使わないので、右クリックメニューに変更しました。
---
### Fnキー押下時のカスタマイズ

次はFnキーを押したときの動作を変更します。
\luminous{/assets/blog/hhkb2.png}
\lineskip
#### BSキーをDelキーに割り当てる。
たまにDelキーを使いたくなる時もあるので、BSキーとDelキーの役割を入れ替えておきます。
ただし、``Fn+\` ``でもDelキーが使えるので、この設定をする必要はなかったかもしれません。
#### Fn+hjklキーを←↓↑→にしてVimのキーバインドに変更
Vimを使う人であれば、なんでもhjklで上下に移動したいと思ったことがあるかもしれません。
ここでは、Fnキーを押しながら、hjkl押すとカーソルキーの動作をする仕様に変更しました。

| キー       | 変更前 | 変更後 |
|----------|--------|--------|
| ``Fn+h`` |    *      | ←      |
| ``Fn+j`` |    /      | ↓      |
| ``Fn+k`` |    Home      | ↑      |
| ``Fn+l`` |    PageUP      | →      |


左手でFnキーを押す設定にすれば、ホームポジションを崩さずに
移動できるのでとても快適です。
また、``Fn + G``, ``Fn + ;``,``Fn + '`` を無効化してhjklの誤操作を防止しました。
PageUP、PageDown、Homeキーを適当な場所で復活させました。
\warning{
デメリットは、電話しながらカーソルキーを動かしにくいこと。そして一般人はおろか、
HHKB Userにすらカーソルキーが使えなくなってしまうことです。}
#### capsキーとinsertキーは不採用
capsキーとinsertキーはトラブルしか経験したことがないので、無効化しました。

## パームレストはあった方が良い。
HHKBはそこそこ高さがあるので、パームレストはあった方が疲れにくいです。
HHKBのWEBサイトにあるウッドパームレストが欲しかったのですが、
ずっと売り切れ状態なので、Filcoの漆塗りパームレストを使っています。
パームレストも会社と家を往復しています。


~~~
<a class="embedly-card" href="https://www.diatec.co.jp/shop/det.php?prod_c=3653">漆塗りパームレスト　曙塗りS 購入ページ | ダイヤテック株式会社</a><script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script>
~~~

## 結局USB接続している
無線状態で使用していると、無操作状態で20分程度たつと電源が落ちます。
最初はブルートゥースモードで使っていたのですが、スイッチをいちいち押すのが、
煩わしく、結局普段はUSBに接続して使っています。

電池自体は、2ヵ月くらいは持ちます。
出張先と複数PCを使う時しか無線は使わなくなりました。

## まとめ
- 憧れのHHKBを導入
- 英語配列の方がプログラミングには向いている。
- キーマップ変更ツールで、Vimに慣れた人が使いやすい仕様にしている。
- パームレストがあるとなお快適。
- 電源が落ちるのがわずらわしくて、結局USB接続にしている。

全く不満がないわけではないですが、これほどキーボードに愛着を持てたのは初めてです。
今度はキートップを無刻印タイプに変更できるように、HHKBレベルを上げていきたいと思います。

\next{#}{HHKB購入から一年後<br>再び清水の舞台から飛び降りる<br>EIZO EV3895}
\backtotop

